{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./AdminPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminPage=()=>{const[password,setPassword]=useState('');const[waitlist,setWaitlist]=useState(null);const[error,setError]=useState('');const[isAuthenticated,setIsAuthenticated]=useState(false);const handlePasswordSubmit=async e=>{e.preventDefault();setError('');try{const response=await axios.get(process.env.REACT_APP_GET_WAITLIST_URL,{headers:{Authorization:password}});setWaitlist(response.data);setIsAuthenticated(true);}catch(err){setError('Incorrect password or failed to fetch data.');setIsAuthenticated(false);}};if(!isAuthenticated){return/*#__PURE__*/_jsx(\"div\",{className:\"admin-page-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePasswordSubmit,className:\"password-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Access\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Enter admin password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-page-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Waitlist Entries\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),waitlist&&/*#__PURE__*/_jsxs(\"table\",{className:\"waitlist-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Signup Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:waitlist.map(entry=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:entry.email}),/*#__PURE__*/_jsx(\"td\",{children:new Date(entry.createdAt._seconds*1000).toLocaleString()})]},entry.id))})]})]});};export default AdminPage;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminPage","password","setPassword","waitlist","setWaitlist","error","setError","isAuthenticated","setIsAuthenticated","handlePasswordSubmit","e","preventDefault","response","get","process","env","REACT_APP_GET_WAITLIST_URL","headers","Authorization","data","err","className","children","onSubmit","type","value","onChange","target","placeholder","map","entry","email","Date","createdAt","_seconds","toLocaleString","id"],"sources":["C:/Users/hp/Desktop/clufree_web/frontend/src/pages/AdminPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './AdminPage.css';\r\n\r\nconst AdminPage = () => {\r\n    const [password, setPassword] = useState('');\r\n    const [waitlist, setWaitlist] = useState(null);\r\n    const [error, setError] = useState('');\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n    const handlePasswordSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        try {\r\n            const response = await axios.get(process.env.REACT_APP_GET_WAITLIST_URL, {\r\n                headers: {\r\n                    Authorization: password,\r\n                },\r\n            });\r\n            setWaitlist(response.data);\r\n            setIsAuthenticated(true);\r\n        } catch (err) {\r\n            setError('Incorrect password or failed to fetch data.');\r\n            setIsAuthenticated(false);\r\n        }\r\n    };\r\n\r\n    if (!isAuthenticated) {\r\n        return (\r\n            <div className=\"admin-page-container\">\r\n                <form onSubmit={handlePasswordSubmit} className=\"password-form\">\r\n                    <h2>Admin Access</h2>\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        placeholder=\"Enter admin password\"\r\n                    />\r\n                    <button type=\"submit\">Login</button>\r\n                    {error && <p className=\"error-message\">{error}</p>}\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"admin-page-container\">\r\n            <h2>Waitlist Entries</h2>\r\n            {error && <p className=\"error-message\">{error}</p>}\r\n            {waitlist && (\r\n                <table className=\"waitlist-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Email</th>\r\n                            <th>Signup Date</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {waitlist.map((entry) => (\r\n                            <tr key={entry.id}>\r\n                                <td>{entry.email}</td>\r\n                                <td>{new Date(entry.createdAt._seconds * 1000).toLocaleString()}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}